<div class="js_accordions-wrapper">
  {%- for index in (1..10) -%}
    {% assign varTitle = 'accordion_title_' | append: index %}
    {% assign varDescription =  'accordion_description_' | append: index %}

    {% unless product.metafields.custom[varTitle].value == nil or product.metafields.custom[varDescription] == nil %}
      <div class="product__accordion accordion quick-add-hidden">
        <details
          id="Details-{{ index }}-{{ section.id }}"
          {% unless is_multiple_open %}
            name="Accordion-name-{{ section.id }}"
          {% endunless %}
        >
          <summary class="accordion-header">
            <div class="summary__title">
              <h2 class="h4 accordion__title inline-richtext">
                {{ product.metafields.custom[varTitle].value  }}
              </h2>
            </div>
            {{- 'icon-caret.svg' | inline_asset_content -}}
          </summary>
          <div class="accordion__content rte" id="ProductAccordion-{{ index }}-{{ section.id }}">
            {{ product.metafields.custom[varDescription] | metafield_tag  }}
          </div>
        </details>
      </div>
    {% endunless %}
  {%- endfor -%}
</div>
